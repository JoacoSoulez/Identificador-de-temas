version: "3.0"

stories:
- story: inicia la conversacion
  steps:
  - intent: contestan_llamada
  - action: utter_bot_saludo
#  - checkpoint: contesta_moroso
#  - checkpoint: es_moroso_no_quiere_oferta_y_si_operador

- story: happy path contesta moroso
  steps:
#  - checkpoint: contesta_moroso
  - intent: moroso_positivo
  - action: utter_bot_validacion_moroso_positivo
  - intent: moroso_si_quiere_conocer_oferta
  - action: utter_bot_validacion_oferta_positiva


- story: es moroso no quiere oferta y si operador
  steps:
#  - checkpoint: es_moroso_no_quiere_oferta_y_si_operador
  - intent: moroso_positivo
  - action: utter_bot_validacion_moroso_positivo
  - intent: moroso_no_quiere_conocer_oferta
  - action: utter_bot_validacion_oferta_negativa
  - intent: moroso_si_quiere_conocer_oferta
  - action: utter_bot_validacion_oferta_positiva
#  - checkpoint: moroso_NoQuiereOferta


- story: moroso no quiere oferta ni operador
  steps:
#  - checkpoint: moroso_NoQuiereOferta
  - intent: moroso_positivo
  - action: utter_bot_validacion_moroso_positivo
  - intent: moroso_no_quiere_conocer_oferta
  - action: utter_bot_validacion_oferta_negativa
  - intent: moroso_no_quiere_operador
  - action: utter_bot_validacion_operador_negativo

- story: contesta un conocido
  steps:
  - intent: moroso_negativo_conocido
  - action: utter_bot_validacion_moroso_negativo
  - intent: si_conoce_moroso
  - action: utter_bot_validacion_conocido_positivo

- story: equivocado y no conoce moroso
  steps:
  - intent: negativo_equivocado
  - action: utter_bot_validacion_moroso_negativo
  - intent: no_conoce_moroso
  - action: utter_bot_validacion_conocido_negativo


#
#- story: cuando_contesta_un_CONOCIDO
#  steps:
#  - intent: contestan_llamada
#  - action: utter_bot_saludo
#  - intent: moroso_negativo_conocido
#  - action: utter_bot_validacion_moroso_negativo
#  - intent: si_conoce_moroso
#  - action: utter_bot_validacion_conocido_positivo
#
#- story: cuando_esta_EQUIVOCADO
#  steps:
#  - intent: contestan_llamada
#  - action: utter_bot_saludo
#  - intent: negativo_equivocado
#  - action: utter_bot_validacion_moroso_negativo
#  - intent: no_conoce_moroso
#  - action: utter_bot_validacion_conocido_negativo
#
#- story: cuando_typean_random
#  steps:
#  - intent: contestan_llamada
#  - action: utter_bot_saludo
#  - intent: respuesta_random_saludo
#  - action: utter_bot_saludo





#version: "3.1"
#
#stories:
#
#- story: Happy path
#  condition:
#  - active_loop: relacion_form
#  steps:
#  #bot pregunta si es la persona a quien se contacta
#  - intent: moroso_positivo
#  - action: relacion_form
#  - action: utter_bot_validacion_moroso_positivo
#  # regresa al formulario
#  - action: relacion_form
#  # persona si quiere conocer oferta
#  - intent: moroso_si_quiere_conocer_oferta
#  # bot deriva
#  - action: relacion_form
#  - action: utter_bot_validacion_oferta_positiva
#  - action: relacion_form
#  - active_loop: null
#  - slot_was_set:
#      - requested_slot: null # cuando este valor es null el formulario se da por finalizado
#  # cliente derivado
#
#
#- story: activa formulario cuando MOROSO NO QUIERE conocer oferta pero luego si quiere
#  condition:
#  - active_loop: relacion_form
#  steps:
#  - intent: moroso_positivo
#  - action: relacion_form
#  - intent: moroso_no_quiere_conocer_oferta
#  - action: relacion_form
#  - action: utter_bot_validacion_oferta_negativa
#  - action: relacion_form
#  - intent: moroso_si_quiere_conocer_oferta
#  - action: relacion_form
#  - action: utter_bot_validacion_oferta_positiva
#  - action: relacion_form
#  - active_loop: null
#  - slot_was_set:
#      requested_slot: null
#  # finaliza llamada moroso NO derivado
#
#
#- rule: activar formulario cuando el moroso contesta pero no quiere saber nada
#  condition:
#  - active_loop: relacion_form
#  steps:
#  - intent: moroso_negativo_conocido
#  - action: utter_bot_validacion_moroso_negativo
#  - action: relacion_form
#  - active_loop: relacion_form
#  - intent: si_conoce_moroso
#  - action: utter_bot_validacion_conocido_positivo
#  - action: relacion_form
#  - active_loop: null
#  -slot_was_set:
#      - slot_request: null
#  # conocido derivado a operador
#
#  - rule: activa formulario cuando ES CONTACTO EQUIVOCADO
#    condition:
#    - active_loop: relacion_form
#    steps:
#    - intent: negativo_equivocado
#    - action: utter_bot_validacion_moroso_negativo
#    - action: relacion_form
#    - active_loop: relacion_form
#   - intent: no_conoce_moroso
#    - action: utter_bot_validacion_conocido_negativo
#    - action: relacion_form
#    - active_loop: null
#    - slot_was_set:
#        - slot_request: null
#   # termina llamada al numero desconocido
#





#- story: interactive_story_1
#  steps:
#  - intent: contestan_llamada
#  - action: utter_bot_saludo
#  - intent: moroso_positivo
#    entities:
#    - es_moroso: soy yo
#  - slot_was_set:
#    - es_moroso: soy yo
#  - action: utter_bot_validacion_moroso_positivo
#  - intent: moroso_si_quiere_conocer_oferta
#    entities:
#    - si_quiere: bueno dale
#  - slot_was_set:
#    - si_quiere: bueno dale
